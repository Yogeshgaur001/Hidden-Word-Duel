{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport { useGame } from '@/contexts/GameContext';\r\nimport { StartRoundPayload, TickStartPayload, RevealTilePayload, RoundEndPayload, MatchEndPayload, OpponentDisconnectedPayload } from '@/types';\r\n\r\n// Ensure this URL points to your NestJS backend WebSocket server\r\nconst SOCKET_SERVER_URL = process.env.NEXT_PUBLIC_SOCKET_SERVER_URL || 'http://localhost:3001'; // Use an env variable\r\n\r\nexport const useWebSocket = () => {\r\n  const { dispatch } = useGame();\r\n  const socketRef = useRef<Socket | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!SOCKET_SERVER_URL) {\r\n      console.error(\"Socket server URL is not defined!\");\r\n      dispatch({ type: 'SET_NOTIFICATION', payload: { type: 'error', message: 'Server configuration error.' }});\r\n      return;\r\n    }\r\n\r\n    dispatch({ type: 'CONNECTING' });\r\n    const socket = io(SOCKET_SERVER_URL, {\r\n      // Add any necessary options, e.g., for authentication if you implement it\r\n    });\r\n    socketRef.current = socket;\r\n\r\n    socket.on('connect', () => {\r\n      console.log('Connected to WebSocket server:', socket.id);\r\n      dispatch({ type: 'CONNECTED_TO_LOBBY' });\r\n      // Client is ready, could emit a 'joinLobby' event if your backend requires it\r\n      // For this spec, it seems two players connecting automatically starts things.\r\n    });\r\n\r\n    socket.on('connect_error', (err) => {\r\n      console.error('Connection error:', err);\r\n      dispatch({ type: 'SET_NOTIFICATION', payload: { type: 'error', message: `Connection Error: ${err.message}` } });\r\n    });\r\n\r\n    socket.on('waitingForOpponent', () => {\r\n        dispatch({ type: 'WAITING_FOR_OPPONENT' });\r\n    });\r\n\r\n    socket.on('startRound', (data: StartRoundPayload) => {\r\n      console.log('startRound received:', data);\r\n      dispatch({ type: 'START_ROUND', payload: data });\r\n    });\r\n\r\n    socket.on('tickStart', (data: TickStartPayload) => {\r\n      console.log('tickStart received:', data);\r\n      dispatch({ type: 'TICK_START', payload: data });\r\n    });\r\n\r\n    socket.on('revealTile', (data: RevealTilePayload) => {\r\n      console.log('revealTile received:', data);\r\n      dispatch({ type: 'REVEAL_TILE', payload: data });\r\n    });\r\n\r\n    socket.on('roundEnd', (data: RoundEndPayload) => {\r\n      console.log('roundEnd received:', data);\r\n      dispatch({ type: 'ROUND_END', payload: data });\r\n    });\r\n\r\n    socket.on('matchEnd', (data: MatchEndPayload) => {\r\n      console.log('matchEnd received:', data);\r\n      dispatch({ type: 'MATCH_END', payload: data });\r\n    });\r\n\r\n    socket.on('opponentDisconnected', (data: OpponentDisconnectedPayload) => {\r\n        console.log('opponentDisconnected received:', data);\r\n        dispatch({ type: 'OPPONENT_DISCONNECTED', payload: data });\r\n    });\r\n\r\n    socket.on('error', (errorMsg: string) => {\r\n        console.error('Server error:', errorMsg);\r\n        dispatch({ type: 'SET_NOTIFICATION', payload: { type: 'error', message: errorMsg }});\r\n    });\r\n\r\n\r\n    socket.on('disconnect', (reason) => {\r\n      console.log('Disconnected from WebSocket server:', reason);\r\n      dispatch({ type: 'SET_NOTIFICATION', payload: { type: 'error', message: 'Disconnected from server.' } });\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n      socketRef.current = null;\r\n    };\r\n  }, [dispatch]);\r\n\r\n  const submitGuess = (roundId: string, guessText: string) => {\r\n    if (socketRef.current && roundId) {\r\n      socketRef.current.emit('submitGuess', { roundId, guessText });\r\n      dispatch({ type: 'SUBMIT_GUESS_ATTEMPT' }); // Optimistic UI update\r\n    }\r\n  };\r\n\r\n  // Add other emit functions as needed, e.g., joinLobby, leaveGame\r\n\r\n  return { submitGuess };\r\n};"],"names":[],"mappings":";;;AAAA;AACA;AAAA;AACA;;;;AAGA,iEAAiE;AACjE,MAAM,oBAAoB,QAAQ,GAAG,CAAC,6BAA6B,IAAI,yBAAyB,sBAAsB;AAE/G,MAAM,eAAe;IAC1B,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAC3B,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAiB;IAExC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,uCAAwB;;QAIxB;QAEA,SAAS;YAAE,MAAM;QAAa;QAC9B,MAAM,SAAS,CAAA,GAAA,wLAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAErC;QACA,UAAU,OAAO,GAAG;QAEpB,OAAO,EAAE,CAAC,WAAW;YACnB,QAAQ,GAAG,CAAC,kCAAkC,OAAO,EAAE;YACvD,SAAS;gBAAE,MAAM;YAAqB;QACtC,8EAA8E;QAC9E,8EAA8E;QAChF;QAEA,OAAO,EAAE,CAAC,iBAAiB,CAAC;YAC1B,QAAQ,KAAK,CAAC,qBAAqB;YACnC,SAAS;gBAAE,MAAM;gBAAoB,SAAS;oBAAE,MAAM;oBAAS,SAAS,CAAC,kBAAkB,EAAE,IAAI,OAAO,EAAE;gBAAC;YAAE;QAC/G;QAEA,OAAO,EAAE,CAAC,sBAAsB;YAC5B,SAAS;gBAAE,MAAM;YAAuB;QAC5C;QAEA,OAAO,EAAE,CAAC,cAAc,CAAC;YACvB,QAAQ,GAAG,CAAC,wBAAwB;YACpC,SAAS;gBAAE,MAAM;gBAAe,SAAS;YAAK;QAChD;QAEA,OAAO,EAAE,CAAC,aAAa,CAAC;YACtB,QAAQ,GAAG,CAAC,uBAAuB;YACnC,SAAS;gBAAE,MAAM;gBAAc,SAAS;YAAK;QAC/C;QAEA,OAAO,EAAE,CAAC,cAAc,CAAC;YACvB,QAAQ,GAAG,CAAC,wBAAwB;YACpC,SAAS;gBAAE,MAAM;gBAAe,SAAS;YAAK;QAChD;QAEA,OAAO,EAAE,CAAC,YAAY,CAAC;YACrB,QAAQ,GAAG,CAAC,sBAAsB;YAClC,SAAS;gBAAE,MAAM;gBAAa,SAAS;YAAK;QAC9C;QAEA,OAAO,EAAE,CAAC,YAAY,CAAC;YACrB,QAAQ,GAAG,CAAC,sBAAsB;YAClC,SAAS;gBAAE,MAAM;gBAAa,SAAS;YAAK;QAC9C;QAEA,OAAO,EAAE,CAAC,wBAAwB,CAAC;YAC/B,QAAQ,GAAG,CAAC,kCAAkC;YAC9C,SAAS;gBAAE,MAAM;gBAAyB,SAAS;YAAK;QAC5D;QAEA,OAAO,EAAE,CAAC,SAAS,CAAC;YAChB,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,SAAS;gBAAE,MAAM;gBAAoB,SAAS;oBAAE,MAAM;oBAAS,SAAS;gBAAS;YAAC;QACtF;QAGA,OAAO,EAAE,CAAC,cAAc,CAAC;YACvB,QAAQ,GAAG,CAAC,uCAAuC;YACnD,SAAS;gBAAE,MAAM;gBAAoB,SAAS;oBAAE,MAAM;oBAAS,SAAS;gBAA4B;YAAE;QACxG;QAEA,OAAO;YACL,OAAO,UAAU;YACjB,UAAU,OAAO,GAAG;QACtB;IACF,GAAG;QAAC;KAAS;IAEb,MAAM,cAAc,CAAC,SAAiB;QACpC,IAAI,UAAU,OAAO,IAAI,SAAS;YAChC,UAAU,OAAO,CAAC,IAAI,CAAC,eAAe;gBAAE;gBAAS;YAAU;YAC3D,SAAS;gBAAE,MAAM;YAAuB,IAAI,uBAAuB;QACrE;IACF;IAEA,iEAAiE;IAEjE,OAAO;QAAE;IAAY;AACvB","debugId":null}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/game/WordDisplay.tsx"],"sourcesContent":["'use client';\r\nimport { useGame } from '@/contexts/GameContext';\r\n\r\nexport default function WordDisplay() {\r\n  const { state } = useGame();\r\n\r\n  if (!state.revealedWord || state.revealedWord.length === 0) {\r\n    return (\r\n      <div className=\"flex justify-center space-x-2 my-8\">\r\n        {Array(state.wordLength > 0 ? state.wordLength : 5).fill(0).map((_, i) => (\r\n          <div\r\n            key={i}\r\n            className=\"w-12 h-16 md:w-16 md:h-20 bg-gray-700 rounded-md flex items-center justify-center text-3xl font-bold animate-pulse\"\r\n          >\r\n            _\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex justify-center space-x-1 sm:space-x-2 my-8\" aria-label=\"Current word\">\r\n      {state.revealedWord.map((item, index) => (\r\n        <div\r\n          key={index}\r\n          className={`w-10 h-14 sm:w-12 sm:h-16 md:w-14 md:h-20\r\n                      bg-gray-600 border-2 border-gray-500\r\n                      rounded-md flex items-center justify-center\r\n                      text-2xl sm:text-3xl md:text-4xl font-bold\r\n                      transition-all duration-300 ease-in-out\r\n                      ${item.isRevealed ? 'border-primary text-primary animate-reveal' : 'text-gray-400'}`}\r\n        >\r\n          {item.isRevealed ? item.letter : '_'}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAExB,IAAI,CAAC,MAAM,YAAY,IAAI,MAAM,YAAY,CAAC,MAAM,KAAK,GAAG;QAC1D,qBACE,8OAAC;YAAI,WAAU;sBACZ,MAAM,MAAM,UAAU,GAAG,IAAI,MAAM,UAAU,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,kBAClE,8OAAC;oBAEC,WAAU;8BACX;mBAFM;;;;;;;;;;IAQf;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAkD,cAAW;kBACzE,MAAM,YAAY,CAAC,GAAG,CAAC,CAAC,MAAM,sBAC7B,8OAAC;gBAEC,WAAW,CAAC;;;;;sBAKA,EAAE,KAAK,UAAU,GAAG,+CAA+C,iBAAiB;0BAE/F,KAAK,UAAU,GAAG,KAAK,MAAM,GAAG;eAR5B;;;;;;;;;;AAaf","debugId":null}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  children: React.ReactNode;\r\n  variant?: 'primary' | 'secondary' | 'danger'; // Add more as needed\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, className, variant = 'primary', ...props }) => {\r\n  const baseStyle = \"font-semibold py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-opacity-50 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed\";\r\n\r\n  let variantStyle = '';\r\n  switch (variant) {\r\n    case 'secondary':\r\n      variantStyle = 'bg-secondary text-white hover:bg-green-500 focus:ring-green-400';\r\n      break;\r\n    case 'danger':\r\n      variantStyle = 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500';\r\n      break;\r\n    case 'primary':\r\n    default:\r\n      variantStyle = 'bg-primary text-white hover:bg-indigo-700 focus:ring-indigo-500';\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={`${baseStyle} ${variantStyle} ${className}`}\r\n      {...props}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;"],"names":[],"mappings":";;;;;AAOA,MAAM,SAAgC,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO;IAC3F,MAAM,YAAY;IAElB,IAAI,eAAe;IACnB,OAAQ;QACN,KAAK;YACH,eAAe;YACf;QACF,KAAK;YACH,eAAe;YACf;QACF,KAAK;QACL;YACE,eAAe;YACf;IACJ;IAEA,qBACE,8OAAC;QACC,WAAW,GAAG,UAAU,CAAC,EAAE,aAAa,CAAC,EAAE,WAAW;QACrD,GAAG,KAAK;kBAER;;;;;;AAGP;uCAEe","debugId":null}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/game/GuessInput.tsx"],"sourcesContent":["'use client';\r\nimport { useState, FormEvent } from 'react';\r\nimport { useGame } from '@/contexts/GameContext';\r\nimport Button from '@/components/ui/Button';\r\n\r\ninterface GuessInputProps {\r\n  onSubmit: (guess: string) => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport default function GuessInput({ onSubmit, disabled }: GuessInputProps) {\r\n  const [guess, setGuess] = useState('');\r\n  const { state } = useGame();\r\n\r\n  const handleSubmit = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    if (guess.trim().length === state.wordLength && !disabled) {\r\n      onSubmit(guess.trim().toUpperCase());\r\n      setGuess('');\r\n    } else if (guess.trim().length !== state.wordLength) {\r\n        // Optional: show a small validation message\r\n        alert(`Guess must be ${state.wordLength} letters long.`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row items-center justify-center gap-3 mt-6\">\r\n      <input\r\n        type=\"text\"\r\n        value={guess}\r\n        onChange={(e) => setGuess(e.target.value.toUpperCase())}\r\n        maxLength={state.wordLength}\r\n        placeholder={`Enter ${state.wordLength}-letter word`}\r\n        disabled={disabled}\r\n        className=\"p-3 border-2 border-gray-500 rounded-md bg-gray-700 text-lightText\r\n                   focus:border-primary focus:ring-primary outline-none\r\n                   w-full sm:w-auto flex-grow text-center sm:text-left text-lg\r\n                   disabled:bg-gray-800 disabled:cursor-not-allowed\"\r\n        aria-label=\"Enter your guess\"\r\n      />\r\n      <Button\r\n        type=\"submit\"\r\n        disabled={disabled || guess.trim().length !== state.wordLength}\r\n        className=\"w-full sm:w-auto px-6 py-3 bg-secondary hover:bg-green-500 disabled:bg-gray-600\"\r\n      >\r\n        Guess\r\n      </Button>\r\n    </form>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAUe,SAAS,WAAW,EAAE,QAAQ,EAAE,QAAQ,EAAmB;IACxE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAExB,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAChB,IAAI,MAAM,IAAI,GAAG,MAAM,KAAK,MAAM,UAAU,IAAI,CAAC,UAAU;YACzD,SAAS,MAAM,IAAI,GAAG,WAAW;YACjC,SAAS;QACX,OAAO,IAAI,MAAM,IAAI,GAAG,MAAM,KAAK,MAAM,UAAU,EAAE;YACjD,4CAA4C;YAC5C,MAAM,CAAC,cAAc,EAAE,MAAM,UAAU,CAAC,cAAc,CAAC;QAC3D;IACF;IAEA,qBACE,8OAAC;QAAK,UAAU;QAAc,WAAU;;0BACtC,8OAAC;gBACC,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,WAAW;gBACpD,WAAW,MAAM,UAAU;gBAC3B,aAAa,CAAC,MAAM,EAAE,MAAM,UAAU,CAAC,YAAY,CAAC;gBACpD,UAAU;gBACV,WAAU;gBAIV,cAAW;;;;;;0BAEb,8OAAC,kIAAA,CAAA,UAAM;gBACL,MAAK;gBACL,UAAU,YAAY,MAAM,IAAI,GAAG,MAAM,KAAK,MAAM,UAAU;gBAC9D,WAAU;0BACX;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/game/TimerDisplay.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { useGame } from '@/contexts/GameContext';\r\n\r\nexport default function TimerDisplay() {\r\n  const { state, dispatch } = useGame();\r\n  const { timeLeftInTick, isTickActive } = state;\r\n\r\n  useEffect(() => {\r\n    let timerId: NodeJS.Timeout;\r\n    if (isTickActive && timeLeftInTick > 0) {\r\n      timerId = setInterval(() => {\r\n        dispatch({ type: 'UPDATE_TIMER', payload: Math.max(0, timeLeftInTick - 1) });\r\n      }, 1000);\r\n    } else if (timeLeftInTick === 0 && isTickActive) {\r\n      // This client-side timer reaching zero doesn't mean the tick truly ended;\r\n      // The server's `revealTile` or `roundEnd` event is the source of truth.\r\n      // dispatch({ type: 'TICK_END' }); // We don't dispatch TICK_END, server controls this\r\n    }\r\n    return () => clearInterval(timerId);\r\n  }, [timeLeftInTick, isTickActive, dispatch]);\r\n\r\n  // Visual Timer Bar\r\n  const initialDuration = state.isTickActive ? (state.timeLeftInTick / (state.players.length > 0 ? state.players[0].score : 5 /* default if no tick duration from server yet */ )) * 100 : 0;\r\n  const progressPercentage = state.isTickActive ? (timeLeftInTick / (state.tickStartPayloadDuration / 1000 || 5)) * 100 : 0;\r\n\r\n\r\n  return (\r\n    <div className=\"my-4 text-center\">\r\n      {isTickActive ? (\r\n        <>\r\n          <p className=\"text-2xl font-semibold text-accent mb-2\">\r\n            Time left: <span className=\"tabular-nums\">{timeLeftInTick}s</span>\r\n          </p>\r\n          <div className=\"w-full bg-gray-600 rounded-full h-2.5_ overflow-hidden\">\r\n            <div\r\n              className=\"bg-accent h-2.5 rounded-full transition-all duration-1000 linear\"\r\n              style={{ width: `${progressPercentage}%` }}\r\n              // If you use the animation defined in tailwind.config.js:\r\n              // style={{ animationDuration: `${state.tickStartPayloadDuration}ms` }}\r\n              // className={`bg-accent h-2.5 rounded-full ${isTickActive ? 'animate-tick' : ''}`}\r\n            ></div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p className=\"text-xl text-gray-400\">Waiting for next tick...</p>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAClC,MAAM,EAAE,cAAc,EAAE,YAAY,EAAE,GAAG;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI;QACJ,IAAI,gBAAgB,iBAAiB,GAAG;YACtC,UAAU,YAAY;gBACpB,SAAS;oBAAE,MAAM;oBAAgB,SAAS,KAAK,GAAG,CAAC,GAAG,iBAAiB;gBAAG;YAC5E,GAAG;QACL,OAAO,IAAI,mBAAmB,KAAK,cAAc;QAC/C,0EAA0E;QAC1E,wEAAwE;QACxE,sFAAsF;QACxF;QACA,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;QAAgB;QAAc;KAAS;IAE3C,mBAAmB;IACnB,MAAM,kBAAkB,MAAM,YAAY,GAAG,AAAC,MAAM,cAAc,GAAG,CAAC,MAAM,OAAO,CAAC,MAAM,GAAG,IAAI,MAAM,OAAO,CAAC,EAAE,CAAC,KAAK,GAAG,EAAE,+CAA+C,GAAG,IAAK,MAAM;IACzL,MAAM,qBAAqB,MAAM,YAAY,GAAG,AAAC,iBAAiB,CAAC,MAAM,wBAAwB,GAAG,QAAQ,CAAC,IAAK,MAAM;IAGxH,qBACE,8OAAC;QAAI,WAAU;kBACZ,6BACC;;8BACE,8OAAC;oBAAE,WAAU;;wBAA0C;sCAC1C,8OAAC;4BAAK,WAAU;;gCAAgB;gCAAe;;;;;;;;;;;;;8BAE5D,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,OAAO,GAAG,mBAAmB,CAAC,CAAC;wBAAC;;;;;;;;;;;;yCAQ/C,8OAAC;YAAE,WAAU;sBAAwB;;;;;;;;;;;AAI7C","debugId":null}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/game/Scoreboard.tsx"],"sourcesContent":["'use client';\r\nimport { useGame } from '@/contexts/GameContext';\r\n\r\nexport default function Scoreboard() {\r\n  const { state } = useGame();\r\n  const { players, currentPlayerId, currentRound, totalRounds } = state;\r\n\r\n  const player1 = players.find(p => p.id === currentPlayerId);\r\n  const player2 = players.find(p => p.id !== currentPlayerId);\r\n\r\n\r\n  return (\r\n    <div className=\"w-full max-w-2xl bg-gray-800 p-4 rounded-lg shadow-lg flex justify-between items-center\">\r\n      <div className=\"text-center\">\r\n        <p className=\"text-sm text-gray-400\">{player1?.username || 'You'}</p>\r\n        <p className=\"text-3xl font-bold text-primary\">{player1?.score || 0}</p>\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <p className=\"text-lg font-semibold\">Round {currentRound} / {totalRounds}</p>\r\n        <p className=\"text-xs text-gray-500\">(Best of {totalRounds} or first to {Math.ceil(totalRounds/2)})</p>\r\n      </div>\r\n      <div className=\"text-center\">\r\n        <p className=\"text-sm text-gray-400\">{player2?.username || 'Opponent'}</p>\r\n        <p className=\"text-3xl font-bold text-secondary\">{player2?.score || 0}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACxB,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,YAAY,EAAE,WAAW,EAAE,GAAG;IAEhE,MAAM,UAAU,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAC3C,MAAM,UAAU,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAG3C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAyB,SAAS,YAAY;;;;;;kCAC3D,8OAAC;wBAAE,WAAU;kCAAmC,SAAS,SAAS;;;;;;;;;;;;0BAEpE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;;4BAAwB;4BAAO;4BAAa;4BAAI;;;;;;;kCAC7D,8OAAC;wBAAE,WAAU;;4BAAwB;4BAAU;4BAAY;4BAAc,KAAK,IAAI,CAAC,cAAY;4BAAG;;;;;;;;;;;;;0BAEpG,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAyB,SAAS,YAAY;;;;;;kCAC3D,8OAAC;wBAAE,WAAU;kCAAqC,SAAS,SAAS;;;;;;;;;;;;;;;;;;AAI5E","debugId":null}},
    {"offset": {"line": 638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/game/PlayerStatus.tsx"],"sourcesContent":["'use client';\r\nimport { useGame } from '@/contexts/GameContext';\r\n\r\n// Basic example - can be made much more creative\r\nexport default function PlayerStatus() {\r\n    const { state } = useGame();\r\n    const { players, currentPlayerId, isTickActive, guessSubmittedThisTick } = state;\r\n\r\n    const getPlayerStatusText = (playerId: string | null | undefined) => {\r\n        if (!playerId) return \"Waiting...\";\r\n        if (!isTickActive) return \"Waiting for tick...\";\r\n        if (playerId === currentPlayerId && guessSubmittedThisTick) return \"Guess submitted!\";\r\n        if (playerId !== currentPlayerId && state.opponentGuessStatus) return state.opponentGuessStatus; // if server sends this\r\n        return \"Thinking...\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4 text-center\">\r\n            {players.map(player => (\r\n                <div key={player.id} className={`p-4 rounded-lg ${player.id === currentPlayerId ? 'bg-blue-900' : 'bg-purple-900'}`}>\r\n                    <h3 className=\"font-semibold text-lg\">{player.username || `Player ${player.id.substring(0,5)}`} {player.id === currentPlayerId ? \"(You)\" : \"(Opponent)\"}</h3>\r\n                    <p className=\"text-sm text-gray-300\">\r\n                        {getPlayerStatusText(player.id)}\r\n                    </p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;AACA;AADA;;;AAIe,SAAS;IACpB,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IACxB,MAAM,EAAE,OAAO,EAAE,eAAe,EAAE,YAAY,EAAE,sBAAsB,EAAE,GAAG;IAE3E,MAAM,sBAAsB,CAAC;QACzB,IAAI,CAAC,UAAU,OAAO;QACtB,IAAI,CAAC,cAAc,OAAO;QAC1B,IAAI,aAAa,mBAAmB,wBAAwB,OAAO;QACnE,IAAI,aAAa,mBAAmB,MAAM,mBAAmB,EAAE,OAAO,MAAM,mBAAmB,EAAE,uBAAuB;QACxH,OAAO;IACX;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,QAAQ,GAAG,CAAC,CAAA,uBACT,8OAAC;gBAAoB,WAAW,CAAC,eAAe,EAAE,OAAO,EAAE,KAAK,kBAAkB,gBAAgB,iBAAiB;;kCAC/G,8OAAC;wBAAG,WAAU;;4BAAyB,OAAO,QAAQ,IAAI,CAAC,OAAO,EAAE,OAAO,EAAE,CAAC,SAAS,CAAC,GAAE,IAAI;4BAAC;4BAAE,OAAO,EAAE,KAAK,kBAAkB,UAAU;;;;;;;kCAC3I,8OAAC;wBAAE,WAAU;kCACR,oBAAoB,OAAO,EAAE;;;;;;;eAH5B,OAAO,EAAE;;;;;;;;;;AASnC","debugId":null}},
    {"offset": {"line": 699, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/components/ui/notificationBar.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect } from 'react';\r\nimport { useGame } from '@/contexts/GameContext';\r\n\r\nexport default function NotificationBar() {\r\n  const { state, dispatch } = useGame();\r\n  const { notification } = state;\r\n\r\n  useEffect(() => {\r\n    if (notification) {\r\n      const timer = setTimeout(() => {\r\n        dispatch({ type: 'CLEAR_NOTIFICATION' });\r\n      }, 5000); // Auto-clear after 5 seconds\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification, dispatch]);\r\n\r\n  if (!notification) return null;\r\n\r\n  const baseClasses = \"fixed top-4 left-1/2 -translate-x-1/2 p-4 rounded-md shadow-lg text-white z-50 text-sm md:text-base\";\r\n  const typeClasses = {\r\n    info: 'bg-blue-600',\r\n    success: 'bg-green-600',\r\n    error: 'bg-red-600',\r\n  };\r\n\r\n  return (\r\n    <div className={`${baseClasses} ${typeClasses[notification.type]}`}>\r\n      {notification.message}\r\n      <button\r\n        onClick={() => dispatch({ type: 'CLEAR_NOTIFICATION' })}\r\n        className=\"ml-4 font-bold text-sm\"\r\n        aria-label=\"Close notification\"\r\n      >\r\n        ✕\r\n      </button>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAClC,MAAM,EAAE,YAAY,EAAE,GAAG;IAEzB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,cAAc;YAChB,MAAM,QAAQ,WAAW;gBACvB,SAAS;oBAAE,MAAM;gBAAqB;YACxC,GAAG,OAAO,6BAA6B;YACvC,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;QAAc;KAAS;IAE3B,IAAI,CAAC,cAAc,OAAO;IAE1B,MAAM,cAAc;IACpB,MAAM,cAAc;QAClB,MAAM;QACN,SAAS;QACT,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAW,GAAG,YAAY,CAAC,EAAE,WAAW,CAAC,aAAa,IAAI,CAAC,EAAE;;YAC/D,aAAa,OAAO;0BACrB,8OAAC;gBACC,SAAS,IAAM,SAAS;wBAAE,MAAM;oBAAqB;gBACrD,WAAU;gBACV,cAAW;0BACZ;;;;;;;;;;;;AAKP","debugId":null}},
    {"offset": {"line": 761, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asus/OneDrive/Desktop/hidden%20Word%20Duel/hwd%20frontend/hidden-word-duel-client/src/app/game/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useGame } from '@/contexts/GameContext';\r\nimport { useWebSocket } from '@/hooks/useWebSocket';\r\nimport WordDisplay from '@/components/game/WordDisplay';\r\nimport GuessInput from '@/components/game/GuessInput';\r\nimport TimerDisplay from '@/components/game/TimerDisplay';\r\nimport Scoreboard from '@/components/game/Scoreboard';\r\nimport PlayerStatus from '@/components/game/PlayerStatus';\r\nimport NotificationBar from '@/components/ui/notificationBar';\r\nimport Button from '@/components/ui/Button'; // Assuming you have a generic button\r\n\r\nexport default function GamePage() {\r\n  const { state, dispatch } = useGame();\r\n  const { submitGuess } = useWebSocket(); // Get submitGuess function\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    // If not in a game state, redirect to lobby (e.g., on refresh or direct access)\r\n    if (state.gameStatus === 'lobby' && !state.roundId) {\r\n      // router.push('/'); // Or handle re-joining logic if possible\r\n    }\r\n  }, [state.gameStatus, state.roundId, router]);\r\n\r\n\r\n  const handleNextRound = () => {\r\n    // This might be triggered by server or a client action if needed\r\n    // For now, assume server sends `startRound` automatically\r\n    dispatch({ type: 'SET_NOTIFICATION', payload: { type: 'info', message: 'Waiting for next round...' } });\r\n  };\r\n\r\n  const handlePlayAgain = () => {\r\n    // This would ideally involve telling the server the player wants to play again\r\n    // For simplicity, we might just reset to lobby state and wait for server to pair again\r\n    // socketRef.current?.emit('requestNewMatch'); // Example\r\n    dispatch({ type: 'CONNECTING' }); // Reset state\r\n    router.push('/');\r\n  };\r\n\r\n\r\n  if (state.gameStatus === 'lobby' || (!state.roundId && state.gameStatus !== 'matchOver')) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center text-center h-full\">\r\n         <NotificationBar />\r\n        <p className=\"text-xl\">Loading game or returning to lobby...</p>\r\n        <div className=\"animate-pulse mt-4\">\r\n            <div className=\"w-12 h-12 border-4 border-primary border-t-transparent rounded-full inline-block animate-spin\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center space-y-6 p-4 md:p-8\">\r\n      <NotificationBar />\r\n      <Scoreboard />\r\n\r\n      <div className=\"w-full max-w-2xl bg-gray-800 p-6 rounded-lg shadow-xl\">\r\n        {state.gameStatus === 'playing' || state.gameStatus === 'roundOver' ? (\r\n          <>\r\n            <TimerDisplay />\r\n            <WordDisplay />\r\n            {state.gameStatus === 'playing' && state.isTickActive && !state.guessSubmittedThisTick && (\r\n              <GuessInput\r\n                onSubmit={(guess) => state.roundId && submitGuess(state.roundId, guess)}\r\n                disabled={!state.isTickActive || state.guessSubmittedThisTick}\r\n              />\r\n            )}\r\n            {state.gameStatus === 'playing' && state.isTickActive && state.guessSubmittedThisTick && (\r\n                <p className=\"text-center text-accent mt-4\">Guess submitted! Waiting for tick to end...</p>\r\n            )}\r\n            {state.gameStatus === 'playing' && !state.isTickActive && (\r\n                <p className=\"text-center text-gray-400 mt-4\">Waiting for next letter reveal...</p>\r\n            )}\r\n          </>\r\n        ) : null}\r\n\r\n        {state.gameStatus === 'roundOver' && (\r\n          <div className=\"text-center mt-6\">\r\n            {state.roundWinner === 'draw' && <p className=\"text-2xl text-yellow-400\">Round Draw!</p>}\r\n            {state.roundWinner && state.roundWinner !== 'draw' && (\r\n              <p className=\"text-2xl text-green-400\">\r\n                {state.players.find(p => p.id === state.roundWinner)?.username || 'Player'} won the round!\r\n              </p>\r\n            )}\r\n            {!state.roundWinner && <p className=\"text-2xl text-red-400\">Nobody guessed it!</p>}\r\n            <p className=\"text-xl mt-2\">The word was: <span className=\"font-bold text-secondary\">{state.lastRevealedWord}</span></p>\r\n            <Button onClick={handleNextRound} className=\"mt-4 bg-primary hover:bg-primary-dark\">\r\n              Waiting for Next Round...\r\n            </Button>\r\n          </div>\r\n        )}\r\n\r\n        {state.gameStatus === 'matchOver' && (\r\n          <div className=\"text-center mt-6\">\r\n            <h2 className=\"text-3xl font-bold mb-4\">Match Over!</h2>\r\n            {state.matchWinner === 'draw' && <p className=\"text-2xl text-yellow-400\">It's a Draw!</p>}\r\n            {state.matchWinner && state.matchWinner !== 'draw' && (\r\n              <p className=\"text-2xl text-green-400\">\r\n                {state.players.find(p => p.id === state.matchWinner)?.username || 'Player'} won the match!\r\n              </p>\r\n            )}\r\n             {!state.matchWinner && state.lastRevealedWord && <p className=\"text-2xl text-red-400\">The match ended without a clear winner for the last round.</p>}\r\n            <p className=\"text-xl mt-2\">Final Scores:</p>\r\n            {state.players.map(p => (\r\n                <p key={p.id} className=\"text-lg\">{p.username || `Player ${p.id.substring(0,6)}`}: {p.score}</p>\r\n            ))}\r\n            <Button onClick={handlePlayAgain} className=\"mt-6 bg-secondary hover:bg-secondary-dark\">\r\n              Play Again\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"w-full max-w-2xl\">\r\n        <PlayerStatus />\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}